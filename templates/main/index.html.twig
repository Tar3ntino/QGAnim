{% extends 'base.html.twig' %}

{% block title %}
	QG Animation | Accueil
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<div class="container-fluid">
			<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
				<ol class="carousel-indicators">
					{% set i = 0 %}
					{% for image in imagesCarousel %}
						{% if i == 0 %}
							<li data-target="#carouselExampleIndicators" data-slide-to="{{i}}" class="active"></li>
						{% else %}
							<li data-target="#carouselExampleIndicators" data-slide-to="{{i}}"></li>
						{% endif %}
						{% set i = i+1 %}
					{% endfor %}
				</ol>
				<div class="carousel-inner">
					{% set i = 0 %}
					{% for image in imagesCarousel %}
						{% if i == 0 %}
							<div class="carousel-item active">
							{% else %}
								<div class="carousel-item">
								{% endif %}
								<img src="{{ asset('/uploads/' ~ image.name)|imagine_filter('rectangle')}}" class="image d-block w-100 rounded border border-secondary" alt="...">
							</div>
							{% set i = i+1 %}
						{% endfor %}
					</div>
					{# Fin de carousel-inner #}
					<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true">
							<span class="sr-only">Previous</span>
						</a>
						<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="sr-only">Next</span>
						</a>

					</div>
					{# Fin de carouselExampleIndicators #}

				</div>
				{# Fin de container-fluid #}
			</div>
			{# Fin de container #}

			<div class="container">
				<canvas></canvas>
			</div>

			<div class="container">
				<div class="row">
					<div class="col-sm-12 col-md-8">
						<h2 class="text-primary text-center">
							Mes derni√®res animations
						</h2>
						<div class="d-flex">
							<div class="row">
								{% for animation in animations|reverse [0:3] %}
									<div class="col-sm-12 col-md-6 col-lg-4">
										<div class="card text-center">
											<div class="card-header">
												{{ animation.title }}
											</div>
											<div class="card-body">
												<img src="{{ asset('uploads/' ~ animation.images[0].name)|imagine_filter('square') }}" class="card-img-top" alt="{{ animation.title }}">
												<p>
													Categorie :
													{{ animation.categories[0].name }}</p>
												<p
													class="card-text">
													{# {{ animation.scenario|striptags|u.truncate(50, '...') }} #}
													{{ animation.scenario|raw }}
												</p>
												<a href="{{path('app_animations_details',{id: animation.id})}}" class="btn btn-primary">
													+ d'infos
												</a>
											</div>
										</div>
									</div>
								{% endfor %}
							</div>

						</div>
					</div>
					<div class="col-sm-12 col-md-4 border border-dark">
						<section class="chat">
							<div class="messages">
								<div class="message">
									<span class="date font-italic">23:22</span>
									<span class="author font-weight-bold">Quentin G.</span>
									:
									<span class="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Tempora, suscipit.</span>
								</div>
								<div class="message">
									<span class="date font-italic">23:22</span>
									<span class="author font-weight-bold">Quentin G.</span>
									:
									<span class="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Tempora, suscipit.</span>
								</div>
								<div class="message">
									<span class="date font-italic">23:22</span>
									<span class="author font-weight-bold">Quentin G.</span>
									:
									<span class="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Tempora, suscipit.</span>
								</div>
							</div>
							<div class="user-inputs">
								<form action="handler.php?task=write">
									<input type="text" name="author" id="auhtor" placeholder="Pseudo ?">
									<input type="text" name="content" id="content" placeholder="Tapez votre message ici...">
									<button type="submit">
										Envoyer
									</button>
								</form>
							</div>
						</section>
					</div>
				</div>
			</div>
		{% endblock %}
